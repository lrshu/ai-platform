这是一个为你准备的 `README.md` 模版。它结构清晰，包含了环境配置、常用命令以及在国内网络环境下如何配置使用的详细说明。

你可以直接复制下面的内容保存为 `README.md` 文件。

---

# Claude Code 使用指南 🤖

本文档旨在帮助开发者快速上手 **Claude Code** 命令行工具，包括环境安装、常用指令速查以及在国内网络环境下的配置方案。

---

## 1.1. Claude Code 环境安装 🛠️

在开始之前，请确保你的系统已经安装了 **Node.js** (建议版本 v18 或更高)。

### 第一步：安装工具

使用 npm 全局安装 Claude Code：

```bash
npm install -g @anthropic-ai/claude-code
```

### 第二步：权限与认证

安装完成后，在终端运行以下命令进行初始化和登录：

```bash
cd /your/project/path
claude
```

首次运行时，系统会提示你进行 OAuth 授权（浏览器登录 Anthropic 账号）或手动输入 API Key。

> **💡 提示**：如果你是在服务器环境或无头模式（Headless）下运行，建议直接设置环境变量：
> `export ANTHROPIC_API_KEY='sk-ant-...'`

---

## 1.2. Claude Code 常用命令说明 💻

Claude Code 支持自然语言交互，同时也提供了一系列 slash commands (斜杠命令) 用于特定操作。

| 命令       | 说明           | 使用场景                                                           |
| :--------- | :------------- | :----------------------------------------------------------------- |
| `/help`    | 查看帮助       | 忘记命令时查询所有可用操作。                                       |
| `/init`    | 初始化项目     | 在当前目录生成配置文件，分析项目结构。                             |
| `/add`     | 添加文件上下文 | 将指定文件或目录添加到 AI 的上下文中 (例如: `/add src/utils.ts`)。 |
| `/remove`  | 移除文件上下文 | 从 AI 上下文中移除不需要的文件，节省 Token。                       |
| `/compact` | 压缩上下文     | 当对话过长时，压缩历史记录以节省 Token 并保持专注。                |
| `/review`  | 代码审查       | 让 Claude 审查当前暂存区 (staged) 或未提交的代码变更。             |
| `/commit`  | 生成提交信息   | 根据当前的 git diff 自动生成 commit message 并提交。               |
| `/bug`     | 修复 Bug       | 配合报错信息或描述，让 Claude 自动排查并修复代码问题。             |
| `/clear`   | 清空会话       | 清除当前对话历史，重新开始一个新的话题。                           |

**交互示例：**

> 用户: "帮我重构 `login.js` 中的验证逻辑，增加输入清洗功能。"
> Claude: (自动读取文件、分析并给出修改建议/直接修改代码)

---

## 1.3. Claude Code 切换国内可用模型 (配置网络与代理) 🌏

由于网络原因，国内直接连接 Anthropic API 可能会受阻。你可以通过配置 **Base URL (中转/镜像地址)** 或 **系统代理** 来解决此问题。

### 方法一：配置 Base URL (推荐)

如果你使用的是支持 Anthropic 协议的中转服务商（如 OpenRouter 或其他国内镜像站），可以通过设置环境变量来更改 API 请求地址。

**Mac/Linux:**

```bash
# 将 URL 替换为你的中转服务商提供的地址 (末尾通常需要带 /v1)
export ANTHROPIC_BASE_URL="https://your-mirror-site.com/v1"

# 启动 Claude Code
claude
```

**Windows (PowerShell):**

```powershell
$env:ANTHROPIC_BASE_URL="https://your-mirror-site.com/v1"
claude
```

### 方法二：使用 HTTP 代理

如果你在本地开启了全局梯子或代理软件，可以强制 Claude Code 走代理通道。

```bash
# 假设你的本地代理端口是 7890
export HTTPS_PROXY=http://127.0.0.1:7890
export HTTP_PROXY=http://127.0.0.1:7890

claude
```

### 关于模型切换

Claude Code 默认使用 `claude-3-5-sonnet`。如果在国内使用中转服务时需要切换到更便宜的模型（如 Haiku），或者中转站映射了特定的模型名称，可以在启动时尝试指定（具体取决于工具版本支持情况，通常官方 CLI 倾向于自动选择最佳模型）。

如果需要强制指定模型 ID，可尝试设置环境变量（视具体 SDK 版本而定）：

```bash
export ANTHROPIC_MODEL="claude-3-haiku-20240307"
```

### 阿里 qwen3-coder-plus

```bash
export ANTHROPIC_BASE_URL=https://dashscope.aliyuncs.com/apps/anthropic
export ANTHROPIC_AUTH_TOKEN=sk-**
export ANTHROPIC_MODEL="qwen3-coder-plus"
```

### 智普 GLM4.6

```bash
export ANTHROPIC_BASE_URL=https://open.bigmodel.cn/api/anthropic
export ANTHROPIC_AUTH_TOKEN=**
export CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC="1"
```

### 豆包

```bash
export ANTHROPIC_AUTH_TOKEN="**"
export ANTHROPIC_BASE_URL="https://ark.cn-beijing.volces.com/api/coding"
export ANTHROPIC_MODEL="doubao-seed-code-preview-latest"
```

---

### 📝 常见问题 (FAQ)

- **Q: 遇到 `Permission denied` 错误怎么办？**
  - A: 尝试在命令前加 `sudo` (Mac/Linux) 或以管理员身份运行终端 (Windows)。
- **Q: 如何退出 Claude Code？**
  - A: 输入 `/exit` 或者按 `Ctrl + C`。

---
